# æ—¶åºç‰¹å¾å¢å¼ºçš„æœªæ¥é¢„æµ‹æ–¹æ³•

## ğŸ¯ ç›®æ ‡
åŸºäºç°æœ‰ä»£ç ï¼Œå®ç°PPGä¿¡å·åˆ°æœªæ¥30ç§’SpO2å’ŒRRå€¼çš„é¢„æµ‹ï¼ŒåŒæ—¶ä¿æŒé¢„æµ‹ç²¾åº¦ã€‚

## ğŸ“ æ–‡ä»¶ç»“æ„
```
Software/Tuning/
â”œâ”€â”€ temporal_features.py          # æ—¶åºç‰¹å¾æå–æ¨¡å—
â”œâ”€â”€ future_prediction.py          # å®Œæ•´çš„æœªæ¥é¢„æµ‹æ¨¡å‹
â”œâ”€â”€ simple_future_prediction.py   # ç®€åŒ–çš„æœªæ¥é¢„æµ‹å®ç°
â”œâ”€â”€ demo_temporal_prediction.py   # æ¼”ç¤ºä»£ç 
â””â”€â”€ README_Future_Prediction.md   # è¯´æ˜æ–‡æ¡£
```

## ğŸš€ æ ¸å¿ƒæ–¹æ³•

### **æ—¶åºç‰¹å¾å¢å¼ºé¢„æµ‹**
ä¸æ˜¯ç®€å•å¤åˆ¶å½“å‰å€¼ï¼Œè€Œæ˜¯åŸºäºPPGä¿¡å·çš„æ—¶åºç‰¹å¾è¿›è¡Œæ™ºèƒ½é¢„æµ‹ï¼š

1. **æå–æ—¶åºç‰¹å¾**ï¼š
   - è¶‹åŠ¿ç‰¹å¾ï¼ˆtemporal_trendï¼‰
   - å˜åŒ–ç‡ç‰¹å¾ï¼ˆmean_change_rateï¼‰
   - è‡ªç›¸å…³ç‰¹å¾ï¼ˆautocorr_maxï¼‰
   - é¢‘åŸŸç‰¹å¾ï¼ˆlow_freq_power, mid_freq_powerï¼‰
   - å‘¨æœŸæ€§ç‰¹å¾ï¼ˆperiodicity_strengthï¼‰
   - ç¨³å®šæ€§ç‰¹å¾ï¼ˆsignal_stabilityï¼‰

2. **åŸºäºç‰¹å¾è°ƒæ•´é¢„æµ‹**ï¼š
   ```python
   spo2_adjustment = trend * future_offset * spo2_trend_factor
   rr_adjustment = change_rate * future_offset * rr_trend_factor
   ```

3. **åº”ç”¨ç”Ÿç†çº¦æŸ**ï¼š
   - SpO2èŒƒå›´ï¼š70-100%
   - RRèŒƒå›´ï¼š8-40æ¬¡/åˆ†é’Ÿ
   - å˜åŒ–ç‡é™åˆ¶

## ğŸ“Š å®ç°æ•ˆæœ

### **æ¼”ç¤ºç»“æœ**ï¼š
- âœ… æˆåŠŸæå–16ä¸ªæ—¶åºç‰¹å¾
- âœ… åŸºäºç‰¹å¾è¿›è¡Œæœªæ¥é¢„æµ‹
- âœ… åº”ç”¨ç”Ÿç†çº¦æŸç¡®ä¿åˆç†æ€§
- âœ… é¢„æµ‹å˜åŒ–åœ¨åˆç†èŒƒå›´å†…

### **ç‰¹å¾ç¤ºä¾‹**ï¼š
```
temporal_trend: -0.0010        # æ—¶åºè¶‹åŠ¿
mean_change_rate: -0.0001     # å¹³å‡å˜åŒ–ç‡
signal_stability: 0.6783      # ä¿¡å·ç¨³å®šæ€§
periodicity_strength: 0.9268  # å‘¨æœŸæ€§å¼ºåº¦
```

## ğŸ”§ ä½¿ç”¨æ–¹æ³•

### **1. è¿è¡Œæ¼”ç¤º**ï¼š
```bash
cd Software/Tuning
python demo_temporal_prediction.py
```

### **2. ä½¿ç”¨ç®€åŒ–é¢„æµ‹**ï¼š
```python
from temporal_features import extract_temporal_features

# æå–æ—¶åºç‰¹å¾
temporal_features = extract_temporal_features(ppg_signal, fs=125)

# åŸºäºç‰¹å¾é¢„æµ‹æœªæ¥
future_spo2 = current_spo2 + temporal_features['temporal_trend'] * 30 * 0.1
future_rr = current_rr + temporal_features['mean_change_rate'] * 30 * 0.05
```

### **3. ä½¿ç”¨å®Œæ•´æ¨¡å‹**ï¼š
```python
from future_prediction import FuturePredictionModel

# åˆå§‹åŒ–æ¨¡å‹
model = FuturePredictionModel(future_offset=30)

# è®­ç»ƒæ¨¡å‹
model.train(X_train, y_train)

# é¢„æµ‹æœªæ¥
prediction = model.predict(ppg_signal)
```

## ğŸ“ˆ ä¼˜åŠ¿å¯¹æ¯”

| æ–¹æ³• | ä¼˜ç‚¹ | ç¼ºç‚¹ | é€‚ç”¨åœºæ™¯ |
|------|------|------|----------|
| ç®€å•å¤åˆ¶ | ç®€å•å¿«é€Ÿ | ç²¾åº¦å·®ï¼Œä¸ç¬¦åˆç”Ÿç†è§„å¾‹ | å¿«é€ŸåŸå‹ |
| æ—¶åºç‰¹å¾å¢å¼º | è€ƒè™‘æ—¶åºæ¨¡å¼ï¼Œç²¾åº¦ä¸­ç­‰ | éœ€è¦ç‰¹å¾å·¥ç¨‹ | ä¸€èˆ¬åº”ç”¨ |
| å®Œæ•´æ¨¡å‹è®­ç»ƒ | ç²¾åº¦æœ€é«˜ï¼Œå­¦ä¹ å¤æ‚æ¨¡å¼ | éœ€è¦å¤§é‡æ•°æ®è®­ç»ƒ | ç ”ç©¶åº”ç”¨ |

## ğŸ¯ ä¸‹ä¸€æ­¥ä¼˜åŒ–

### **1. å‚æ•°è°ƒä¼˜**ï¼š
- é€šè¿‡å®é™…æ•°æ®è®­ç»ƒç¡®å®šè°ƒæ•´ç³»æ•°
- ä¼˜åŒ–ç‰¹å¾æƒé‡
- è°ƒæ•´ç”Ÿç†çº¦æŸèŒƒå›´

### **2. æ¨¡å‹å‡çº§**ï¼š
- ä½¿ç”¨LSTM/GRUåºåˆ—å»ºæ¨¡
- é›†æˆå¤šä¸ªé¢„æµ‹æ¨¡å‹
- æ·»åŠ ä¸ç¡®å®šæ€§ä¼°è®¡

### **3. å®æ—¶åº”ç”¨**ï¼š
- é›†æˆåˆ°ç°æœ‰ç³»ç»Ÿ
- ä¼˜åŒ–è®¡ç®—æ•ˆç‡
- æ·»åŠ å¼‚å¸¸æ£€æµ‹

## ğŸ“ æ€»ç»“

**æ—¶åºç‰¹å¾å¢å¼ºæ–¹æ³•**æˆåŠŸå®ç°äº†ï¼š
- âœ… åŸºäºPPGä¿¡å·æ—¶åºç‰¹å¾é¢„æµ‹æœªæ¥SpO2/RR
- âœ… ä¿æŒé¢„æµ‹çš„ç”Ÿç†åˆç†æ€§
- âœ… ç›¸æ¯”ç®€å•å¤åˆ¶æä¾›æ›´æ™ºèƒ½çš„é¢„æµ‹
- âœ… å¯æ‰©å±•å’Œä¼˜åŒ–

**è¿™ä¸ºæœªæ¥30ç§’ä»¥ä¸Šçš„é¢„æµ‹æä¾›äº†åšå®çš„åŸºç¡€ï¼**
